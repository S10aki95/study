# 環境構築手順

勉強会に必要な環境構築手順と必要なライブラリについてドキュメントを残す。

今回の勉強会で使用されるGithubのレポジトリ：
https://github.com/shibuiwilliam/ml-system-in-actions

pyenvのインストールを行うところまで。

# 前提条件

・EC2 (Ubuntu 20.04)を立ち上げたと想定  
・vscodeをインストール済み
・git、wget、crulがインストールされている状態
(curl -V、git -V、wget -Vで確認できる。)



# 必要なインストール

・pyenv

# 手順

## vscodeからのEC2へのSSH接続

別途資料を参照のこと

## vscodeへの拡張機能のインストール

![](2021-10-31-09-53-06.png)

左バーの拡張機能のタブをクリックして、"Marketplaceで検索する"で以下の拡張機能を検索し、拡張機能をインストール

・Japanese Language Pack for Visual Studio Code  
・Git History  
・Git Graph

## Gitのインストール

## レポジトリのダウンロード

参考書で指定されているGithubのレポジトリをEC2に設置するための手順を示す。

### /tmp/ディレクトリの作成
本書では、一度、"tmp"という名前でディレクトリを作る必要があるとされているので、作ってみる。
linuxのコマンドで作成することもできるが、vscodeでは操作がwindowsのディレクトリと同じような感覚で作成できるので、こちらを紹介する。

![](2021-10-31-10-00-32.png)

エクスプローラータブの“Ubuntu”の横に、フォルダのタブがあるので、それをクリックする。
そして、”tmp”と入力してEnterキーを押す。

![](2021-10-31-10-04-31.png)

### レポジトリのクローン

"Ctrl + Shift + P"を押して、検索タブを用意する。
![](2021-10-31-10-09-17.png)

検索タブの中で、Git Cloneと検索すると、上図のように、Git: Cloneというタブが出てくるので、それを選択。

![](2021-10-31-10-10-30.png)
どのGithubのレポジトリからクローンしてくるかを聞かれるので、今回の勉強会で使われるGithubのリンク(URL)を入力する。

すると、どこにクローンするか聞いてくるので、先ほど作成した"tmp"フォルダを選択する。

![](2021-10-31-10-19-22.png)

OKを選択する。

![](2021-10-31-10-20-38.png)

バージョンによって異なる可能性があるが、クローン下レポジトリをワークスペースに追加するかどうかを聞かれるので、特に問題なければ"Open"を選択

![](2021-10-31-10-22-14.png)

以下のようになっていれば、レポジトリのクローンは完了。

![](2021-10-31-10-23-08.png)

## Anacondaのインストール

まずは“Ctrl + J”を使ってターミナルを選択する。

![](2021-10-31-10-26-00.png)

まずは、以下をターミナルで実行


```
・sudo apt update
・sudo apt upgrade
```

次に、以下の必要ライブラリのインストール＋再起動

```
sudo apt install -y \
build-essential \
libffi-dev \
libssl-dev \
zlib1g-dev \
liblzma-dev \
libbz2-dev \
libreadline-dev \
libsqlite3-dev \
libopencv-dev \
tk-dev
```

次に、pyenvパッケージをインストール
```
# pyenv本体のダウンロードとインストール
git clone https://github.com/pyenv/pyenv.git ~/.pyenv

# 今回、参考書のpyenvのバージョンにあるように設定
# (Option)pyenvのバージョンをv3.8.5に変更
cd ~/.pyenv
git checkout v3.8.5

# .bashrcの更新
echo 'export PYENV_ROOT="$HOME/.pyenv"' >> ~/.bashrc
echo 'export PATH="$PYENV_ROOT/bin:$PATH"' >> ~/.bashrc
echo 'eval "$(pyenv init --path)"' >> ~/.bashrc
source ~/.bashrc
```

以下のコマンドでインストールが完了していることを確認できる。
```
# pyenvがインストールできたかを確認
pyenv -v 
```


## 参考文献：

Ubuntuにpyenvをインストールする手順：
https://qiita.com/MusicScience37/items/4537233b840e2133cd32

今回はpyenvのインストールについては下記の物を参照している
https://qiita.com/neruoneru/items/1107bcdca7fa43de673d